(B) Create scripts/export-options.plist with keys: method=developer-id, signingStyle=manual, teamID=YOURTEAMID, stripSwiftSymbols=true, compileBitcode=false for use with xcodebuild -exportArchive; replace YOURTEAMID with actual 10-character Apple team ID +infra
(B) Create scripts/build-dmg.sh with set -euo pipefail; xcodebuild clean archive -scheme LockOut-macOS -archivePath build/LockOut.xcarchive; xcodebuild -exportArchive -archivePath build/LockOut.xcarchive -exportPath build/ -exportOptionsPlist scripts/export-options.plist; create-dmg --volname "LockOut" --window-size 540 380 --icon-size 128 --app-drop-link 380 185 dist/LockOut.dmg "build/LockOut.app" +infra
(B) Create Makefile at repo root with targets: build (sh scripts/build-dmg.sh), test (swift test --package-path Packages/LockOutCore), clean (rm -rf build/ dist/), and notarize (xcrun notarytool submit dist/LockOut.dmg --keychain-profile AC_PASSWORD --wait) +infra
(B) Call SettingsSyncService.stopObserving() inside AppDelegate.applicationWillTerminate to remove the NSUbiquitousKeyValueStoreDidChangeExternallyNotification observer and prevent a crash if the store fires after the app has begun tearing down +stability
(B) Add guard windows.isEmpty else { return } at the top of BreakOverlayWindowController.show() to prevent stacking a second overlay set if show() is called while an overlay is already visible +stability +macos
(B) Add NSWorkspace.shared.notificationCenter addObserver for NSWorkspace.willSleepNotification in AppDelegate.applicationDidFinishLaunching calling scheduler.pause() so timers stop and no overlay fires during machine sleep +stability +macos
(B) Add NSWorkspace.shared.notificationCenter addObserver for NSWorkspace.didWakeNotification in AppDelegate.applicationDidFinishLaunching calling scheduler.resume() so scheduling restarts automatically after wake without requiring a relaunch +stability +macos
(B) Add NSWorkspace.shared.notificationCenter addObserver for NSWorkspace.screensDidSleepNotification calling overlayController?.dismiss() so any active overlay is cleared before the display sleeps and does not appear as a frozen frame on wake +stability +macos
(B) Fix DashboardView.todayCompliance to call repository.fetchSessions(from: Calendar.current.startOfDay(for: Date()), to: Date()) and compute rate as Double(sessions.filter { $0.status == .completed }.count) / Double(max(sessions.count, 1)) instead of relying on dailyStats(for: 1).first which may return yesterday's row near midnight +stability +macos
(B) Add @Published var syncError: String? to AppDelegate; assign a non-nil value from a CloudKitSyncService error callback when CKError is not networkUnavailable; in SettingsView show Text(error).foregroundStyle(.red).font(.caption) below the Sync button when syncError != nil +stability +macos
(B) Write XCTest for BreakHistoryRepository save idempotency: insert two BreakSessions with identical UUID but different status (.skipped then .completed), fetch all, assert count == 1 and status == .completed +test
(B) Write XCTest for AppSettingsStore round-trip: call AppSettingsStore.save(.defaults), then AppSettingsStore.load() and assert the loaded value is non-nil and all three intervalMinutes values match .defaults +test
(B) Write XCTest for BreakScheduler multi-timer: call start(settings: .defaults), assert timers.count == 3 (one per enabled break type) after start() +test
